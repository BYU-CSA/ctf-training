# Web Exploitation
Almost everything these days is on a web server, and there are seemingly endless ways to attack web pages. This guide introduces some basic web exploitation techniques. This list is definitely *not* exhaustive, but could be used as a starting point for a web exploitation CTF problem.

## Developer Tools
Often called "the ultimate hacking tool", looking at the source code for a web page is a must! A web page can include just plain HTML, but often it has JavaScript, CSS, external images, a favicon, API calls, etc. This is your best resource for web challenges.

Use CTRL + I to access the developer tools. If a web page blocks CTRL + I, you can still access the developer tools through a certain method in whichever browser you are using (you can Google how to do that).

Here is an example of what the developer tools look like for byu.ctfd.io:
<img src=DeveloperTools.jpg>

### Network Tab
Make sure you look at the network tab! The network tab tells you how data from the website is transferred across the internet. This can be in the form of APIs, POST requests, submitted forms, external data displayed in the page, etc. Check here to see if anything specific happens while you interact with the site.

<img src=NetworkTab.png>

### Cookies

Cookies are located in the Application tab. Cookies are used by the browser to send certain user data to the server whenever a request is made for a webpage. Cookies are viewable *and editable* on the client side (your computer) in developer tools. Use these to see how certain cookie values change the site. Cookies are often used for authentication or to display a certain part of the webpage. Also check the local storage section of the Application tab, this is where information is added for the browser to keep, and not the server.

<img src=ApplicationTab.png>

### Practice Using Developer Tools
* [Secure Login Portal](https://jupiter.challenges.picoctf.org/problem/37821/)
* [Inspect Me](https://jupiter.challenges.picoctf.org/problem/41511/)
* [Factory Login](https://jupiter.challenges.picoctf.org/problem/13594/)


## Path Traversal
Every single website is made of up a folder of files on a server somewhere. If the system isn't set up properly, someone could gain access to more files on a server than the owner intended. If a user has open acces to see all the files on a server, that is called an *open directory*. If a user navigates within those exposed files, then the user is performing *path traversal*

Here is what an open directory looks like:
<img src="OpenDirectory.jpg">

To navigate, try using `..` or `.` or `/../` as the file path. The [Wikipedia page on directory traversal](https://en.wikipedia.org/wiki/Directory_traversal_attack) has great information on how to execute and prevent these type of attacks.

### Practice Path Traversal
 [Path Traversal Blog Practice](https://vm-thijs.ewi.utwente.nl/ctf/traversal.asp?page=index.html)

## HTTP Requests and Responses

Web pages are delivered to your computer because of the beauty of the HTTP request and HTTP response. The HTTP request is what you send to whichever server hosts the web page. The request tells the server which webpage content you want, and in what format the server needs to return the content. An HTTP request also contains a little about the client that is requesting the content. An HTTP response is the response from the server of the webpage. Usually when we analyze the HTTP requests and responses, we are primarily focusing on the HTTP headers.

Here is an example of an HTTP request:
```http
GET /problem/26704/flag HTTP/1.1
Host: jupiter.challenges.picoctf.org
Sec-Ch-Ua: "Chromium";v="105", "Not)A;Brand";v="8"
Sec-Ch-Ua-Mobile: ?0
Sec-Ch-Ua-Platform: "Windows"
Upgrade-Insecure-Requests: 1
User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.5195.102 Safari/537.36
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9
Sec-Fetch-Site: none
Sec-Fetch-Mode: navigate
Sec-Fetch-User: ?1
Sec-Fetch-Dest: document
Accept-Encoding: gzip, deflate
Accept-Language: en-US,en;q=0.9
Connection: close
```

Let's talk about a few key fields of this request:
* The **HTTP method** is the first word in the header, in this case GET.The most common HTTP method is GET. Learn more about HTTP methods in [this article.](https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods)
* **Host** is the header that contains the address of the responding server. This is who the HTTP requests is going to.
* **User-Agent** specifies which type of browser or software this HTTP request was sent from. This request was sent using Mozilla Firefox, but the User-Agent can be other browswers (Chrome, Tor, etc.) or other software (Nmap has it's own User-Agent value)

The cool thing about HTTP requests is that you can *change* what the HTTP requests say. And some web servers are built to give different information depending on what is in the HTTP request. So it becomes really valuable to us to find a fast, easy, cheap way to modify and send HTTP headers. And this is where one of the best cybersecurity tools has it's chance to shine... BURPSUITE.

## Burp Suite

Burpsuite is a software application that is used to test the security of websites. The software is developed by PortSwigger, the leader in application security, and the professional license is very good and a little expensive. However, the community version of Burpsuite is sufficient for any CTF. To download it for Windows, go [here](https://portswigger.net/burp/communitydownload).

To use BurpSuite, open the software and click on the **Proxy** tab. If you see the button that says **Intercept is off**, click the button so that it says **Intercept is on**. Then click **Open browser**. When you navigate to a page in the BurpSuite browser that opens, the HTTP request will be held until you manually approve the request. You can modify requests here before sending them.

Here is an example of what an HTTP request and HTTP response looks like in BurpSuite:
<img src=BurpSuite.png>


### Practice Problems

* [Practice Problem #1 (PicoCTF)](https://jupiter.challenges.picoctf.org/problem/26704/flag)
